<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Flores Amarillas ðŸŒ¼ðŸ’›</title>
<style>
    body {
        margin: 0;
        padding: 0;
        background-color: #D8BFD8; /* morado pastel */
        overflow: hidden;
        font-family: Arial, sans-serif;
    }
    #formulario {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        z-index: 2;
        text-align: center;
        background-color: #fff8;
        padding: 20px;
        border-radius: 10px;
    }
    #mensaje {
        position: absolute;
        top: 40%;
        left: 50%;
        transform: translateX(-50%);
        text-align: center;
        color: darkorange;
        font-size: 20px;
        font-weight: bold;
        z-index: 2;
        display: none;
    }
</style>
</head>
<body>

<div id="formulario">
    <h2>Introduce tu nombre:</h2>
    <input type="text" id="nombre"><br><br>
    <h2>Introduce el nombre de tu novio:</h2>
    <input type="text" id="novio"><br><br>
    <h2>Introduce la fecha de hoy:</h2>
    <input type="text" id="fecha"><br><br>
    <button onclick="validar()">Aceptar</button>
</div>

<div id="mensaje">
ðŸ’› Feliz dÃ­a de las flores amarillas ðŸ’›<br>
Aunque estemos lejos siempre pienso en ti...<br>
Â¡Te amo!
</div>

<canvas id="canvas"></canvas>

<script>
let canvas = document.getElementById('canvas');
let ctx = canvas.getContext('2d');
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

// MÃºsica
let musica = new Audio();
musica.src = "https://drive.google.com/uc?export=download&id=18sFulI6caZMDCGI5LEr_6WyF7ElsqRWL";
musica.loop = true;

// ImÃ¡genes
let imagenes = {};
imagenes.flor1 = new Image();
imagenes.flor1.src = "https://github.com/Alberto010109/Animaci-n-Flores-/blob/main/flor1.png?raw=true";
imagenes.flor2 = new Image();
imagenes.flor2.src = "https://github.com/Alberto010109/Animaci-n-Flores-/blob/main/flor2.jpg?raw=true";
imagenes.corazon = new Image();
imagenes.corazon.src = "https://github.com/Alberto010109/Animaci-n-Flores-/blob/main/corazon.png?raw=true";

let objetos = [];

function crearObjeto() {
    let keys = ["flor1","flor2","corazon"];
    let tipo = keys[Math.floor(Math.random()*keys.length)];
    let img = imagenes[tipo];
    let x = Math.random() * canvas.width;
    let y = Math.random() * canvas.height;
    let vx = (Math.random()-0.5)*4;
    let vy = (Math.random()-0.5)*4;
    let vida = Math.random()*200 + 100;
    objetos.push({img,x,y,vx,vy,vida,exploding:false});
}

function explotar(obj) {
    for(let i=0;i<10;i++){
        let angle = Math.random()*2*Math.PI;
        let speed = Math.random()*4+2;
        let vx = Math.cos(angle)*speed;
        let vy = Math.sin(angle)*speed;
        let x = obj.x;
        let y = obj.y;
        let imgKeys = ["flor1","flor2","corazon"];
        let miniImg = imagenes[imgKeys[Math.floor(Math.random()*imgKeys.length)]];
        let vida = Math.random()*50+30;
        objetos.push({img:miniImg,x,y,vx,vy,vida,exploding:true});
    }
}

function animar() {
    ctx.clearRect(0,0,canvas.width,canvas.height);
    for(let i=objetos.length-1;i>=0;i--){
        let obj = objetos[i];
        obj.x += obj.vx;
        obj.y += obj.vy;
        obj.vy += 0.02; // gravedad leve
        obj.vida -= 1;
        ctx.drawImage(obj.img,obj.x,obj.y,50,50);
        if(obj.vida <= 20 && !obj.exploding){
            obj.exploding = true;
            explotar(obj);
            objetos.splice(i,1);
        }
        if(obj.x<0 || obj.x>canvas.width) obj.vx*=-1;
        if(obj.y<0 || obj.y>canvas.height) obj.vy*=-0.5;
    }
    requestAnimationFrame(animar);
}

function validar(){
    let nombre = document.getElementById('nombre').value.toLowerCase().trim();
    let novio = document.getElementById('novio').value.toLowerCase().trim();
    let fecha = document.getElementById('fecha').value.trim();
    let nombres_validos = ["verÃ³nica guerra pÃ©rez", "vero", "veritoo", "mi amor"];
    let nombres_novio = ["alberto", "alberto hernÃ¡ndez", "albertano"];
    if(!nombres_validos.includes(nombre)){
        alert("Nombre incorrecto ðŸ’”");
        return;
    }
    if(!nombres_novio.includes(novio)){
        alert("Nombre de novio incorrecto ðŸ’”");
        return;
    }
    if(fecha===""){
        alert("Debes ingresar la fecha ðŸ’”");
        return;
    }
    document.getElementById('formulario').style.display = 'none';
    document.getElementById('mensaje').style.display = 'block';
    musica.play();
    for(let i=0;i<20;i++) crearObjeto();
    animar();
}
</script>

</body>
</html>

